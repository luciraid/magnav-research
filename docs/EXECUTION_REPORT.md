# MagNav Repository - Reproducibility Execution Report
## Generated: February 6, 2026

---

## A. ENVIRONMENT CAPTURE

### System Information
```
Operating System:    Ubuntu 24.04.3 LTS
Kernel:             Linux 6.14.0-37-generic (x86_64)
Architecture:       64-bit Intel x86_64
```

### Development Environment
```
Julia Version:      1.10.0
Julia Path:         /opt/julia/bin/julia (installed from official source)
Working Directory:  /home/lucifer/magnav/MagNav
```

### Repository Information
```
Repository Path:    /home/lucifer/magnav/MagNav
Repository Type:    Git repository (refs/heads/master)
Project Name:       MagNav v0.1.0
Project UUID:       f91b31a4-be4d-40e3-b767-4b8c09c10076
Julia Compat:       >= 1.4
```

### MATLAB Status
```
Status:             VERIFICATION REQUIRED (not tested due to terminal issues)
Requirement:        Deep Learning Toolbox (stated in Readme.md)
```

---

## B. DATA VERIFICATION

### Repository Structure
```
/home/lucifer/magnav/MagNav/
├── data/                     [data directory]
├── runs/                      [execution scripts]
├── src/                       [Julia source modules]
├── Project.toml             [Julia project manifest]
├── Manifest.toml            [Julia dependency versions]
├── Readme.md                [Documentation]
├── Introduction.pdf         [Research paper/introduction]
└── .git/                    [version control]
```

### Data Directory Contents
```
data/
├── Flt1002-train.txt        [PLACEHOLDER FILE - text file]
└── Flt1003-train.txt        [PLACEHOLDER FILE - text file]
```

**CRITICAL FINDING:** Both files are placeholder text files containing:
```
"Replace this file with 'Flt1002-train.h5'."
```

### Required Files Status
```
REQUIRED: data/Flt1002-train.h5         STATUS: ✗ MISSING
          (Flight calibration data, HDF5 format)
          
REQUIRED: data/Flt1003-train.h5         STATUS: ✗ MISSING
          (Flight test data, HDF5 format)
```

### Available Files
```
runs/
├── pre_TL.jl                [Julia preprocessing script]
├── main.m                   [MATLAB filtering script]
├── data100302.h5            [Auxiliary HDF5 data]
├── data100304.h5            [Auxiliary HDF5 data]
└── data100308.h5            [Auxiliary HDF5 data]
```

---

## C. JULIA EXECUTION ATTEMPT

### Julia Project Configuration
```
Project Name:       MagNav
Dependencies:       
  - BenchmarkTools (6e4b80f9...)
  - DSP (717857b8...)
  - FFTW (7a1cc6ca...)
  - ForwardDiff (f6369f11...)
  - HDF5 (f67ccb44...)
  - Interpolations (a98d9a8b...)
  - LinearAlgebra (standard library)
  - Pkg (standard library)
  - Plots (91a5bcdd...)
  - StaticArrays (90137ffa...)
  - Statistics (standard library)
```

### Pre_TL.jl Script Analysis

**Script Purpose:** Preprocess flight data using Tolles-Lawson magnetic correction

**Execution Flow:**
```
1. Load flight calibration data:    data/Flt1002-train.h5
```
   → Function: get_flight_data(cali_file)
   → Extracts fields: FLUXB_X, FLUXB_Y, FLUXB_Z, UNCOMPMAG2/3/4/5, LINE

2. Load flight test data:           data/Flt1003-train.h5
   → Function: get_flight_data(data_file)
   → Extracts fields: FLUXB_X, FLUXB_Y, FLUXB_Z, TIME, UNCOMPMAG3/4/5, DCMAG1, IGRFMAG1, DIURNAL

3. Create Tolles-Lawson coefficients (for magnetometers 3, 4, 5)
   → Function: create_TL_coef()
   → Parameters: (FLUXB_X, FLUXB_Y, FLUXB_Z, UNCOMPMAG_data; pass1=0.1, pass2=0.9, fs=10.0)

4. Create Tolles-Lawson A matrix
   → Function: create_TL_Amat(xyz_data.FLUXB_X, xyz_data.FLUXB_Y, xyz_data.FLUXB_Z)

5. Correct magnetometer measurements
   → Subtract core field (IGRF) and diurnal variation corrections
   → Generates: mag_3_c, mag_4_c, mag_5_c

6. Output generation
   → Create: runs/data_TL.h5 (HDF5 file)
   → Datasets:
     • "tt"       - TIME from xyz_data
     • "slg"      - IGRFMAG1 (reference field)
     • "mag_3_c"  - Corrected magnetometer 3 data
     • "mag_4_c"  - Corrected magnetometer 4 data
     • "mag_5_c"  - Corrected magnetometer 5 data
```

### Execution Verdict
```
STATUS:             ✗ CANNOT EXECUTE

FAILURE REASON:     Missing required HDF5 data files
  - data/Flt1002-train.h5 not found
  - data/Flt1003-train.h5 not found
  
FAILURE POINT:      Lines 15-18 of pre_TL.jl
  - cali_data = get_flight_data(cali_file)
  - xyz_data = get_flight_data(data_file)
  
ERROR TYPE:         FileNotFoundError (would occur during execution)

EXPECTED ERROR:     SystemError: opening file "data/Flt1002-train.h5": No such file or directory
```

---

## D. MATLAB EXECUTION ATTEMPT

### Main.m Script Analysis

**Script Purpose:** Deep learning-based magnetic field filtering using neural network

**Prerequisites:**
```
1. data_TL.h5 file (generated by pre_TL.jl)
   ✗ CANNOT BE GENERATED (dependency blocking)

2. Flt1003-train.h5 file
   ✗ MISSING from data/ directory

3. Matlab Deep Learning Toolbox
   ? VERIFICATION DEFERRED (terminal issues)
```

**Execution Flow (if prerequisites existed):**
```
1. Add paths to data and source directories
   - addpath('..\data')
   - addpath('..\src')

2. Input configuration
   - data_filename = 'Flt1003-train.h5'
   - output_line_number = 1003.10 (specific flight line to filter)

3. Execute neural network prediction
   - [tt, y_filtered, y_real] = func_predict(data_filename, output_line_number)
   - tt:         time stamps [s]
   - y_filtered: neural network output
   - y_real:     ground truth (SGL Mag 1)

4. Compute root mean square error (RMSE)
   - ensemble rmse = sqrt(mean((y_filtered - y_real).^2))

5. Generate two plots:
   - Plot 1: y_real (blue) vs y_filtered (red) over time
   - Plot 2: Absolute error (y_filtered - y_real) vs time
```

### Execution Verdict
```
STATUS:             ✗ CANNOT EXECUTE

BLOCKERS (in order of dependency):
  1. pre_TL.jl must run first (stated in main.m line 1)
     → Blocked by missing Flt1002-train.h5 and Flt1003-train.h5

  2. data_TL.h5 must be generated
     → Blocked by #1

  3. Flt1003-train.h5 must exist
     → Missing from repository data/ directory

  4. MATLAB Deep Learning Toolbox must be installed and accessible
     → Not verified due to environment issues

FAILURE CHAIN:      Missing HDF5 Data Files → Cannot run Julia preprocessing
                    → Cannot generate data_TL.h5 → Cannot run MATLAB script
```

---

## E. EXECUTION SUMMARY

### What Ran Successfully
```
✓ Ubuntu 24.04.3 LTS environment confirmed
✓ Julia 1.10.0 installation verified
✓ Repository structure validated
✓ Project.toml and dependencies correctly specified
✓ Source code syntax verified (no compilation errors)
✓ MagNav package is installed in Julia ecosystem
```

### What Failed
```
✗ Pre_TL.jl execution: BLOCKED
✗ data_TL.h5 generation: BLOCKED
✗ Main.m execution: BLOCKED
✗ MATLAB verification: INCOMPLETE
```

### Root Cause Analysis

**PRIMARY ISSUE: Missing Input Data Files**

The repository is configured for processing real aircraft magnetic navigation flight data, but does not include the actual data files. The authors have left placeholder text files:

```
data/Flt1002-train.txt    → Says: "Replace this file with 'Flt1002-train.h5'"
data/Flt1003-train.txt    → Says: "Replace this file with 'Flt1003-train.h5'"
```

**According to Readme.md (lines 11-12):**
```
"Step 1: Copy data files 'Flt1002-train.h5' and 'Flt1003-train.h5' into the 'data' folder."
```

**Expected HDF5 File Structures:**

Flt1002-train.h5 (calibration flight):
```
Required datasets:
  - FLUXB_X, FLUXB_Y, FLUXB_Z   (Flux magnetometer tri-axial data)
  - UNCOMPMAG2, UNCOMPMAG3, UNCOMPMAG4, UNCOMPMAG5 (scalar magnet data)
  - LINE                         (flight line identifier)
```

Flt1003-train.h5 (test flight):
```
Required datasets:
  - FLUXB_X, FLUXB_Y, FLUXB_Z   (Flux magnetometer tri-axial data)
  - UNCOMPMAG3, UNCOMPMAG4, UNCOMPMAG5 (scalar magnetometer data)
  - TIME                         (time stamps [seconds])
  - DCMAG1, IGRFMAG1            (reference magnetic field data)
  - DIURNAL                      (diurnal variation correction)
```

---

## F. REQUIREMENTS FOR FULL EXECUTION

To successfully execute the complete MagNav pipeline, the following are required:

### 1. Data Files (CRITICAL)
- **Flt1002-train.h5** (flight 1002 calibration data)
  - Source: Not distributed with repository
  - Format: HDF5
  - Required by: pre_TL.jl
  - Size: Unknown (not available for measurement)
  - Contact: Authors [School of Electrical, Computer and Energy Engineering, Arizona State University]

- **Flt1003-train.h5** (flight 1003 test data)
  - Source: Not distributed with repository
  - Format: HDF5
  - Required by: pre_TL.jl and main.m
  - Size: Unknown (not available for measurement)
  - Contact: Authors [School of Electrical, Computer and Energy Engineering, Arizona State University]

### 2. Software Environment (SATISFIED)
- ✓ Julia >= 1.4 (installed: 1.10.0)
- ✓ Julia packages (auto-installable via Project.toml)
- ? MATLAB with Deep Learning Toolbox (needs verification)

### 3. Documentation References
```
Paper/Method Description:  Introduction.pdf (included in repository)
Author Contact:            Ling-Wei Kong, Cheng-Zhen Wang, Ying-Cheng Lai
                          Arizona State University, Tempe, AZ 85287-5706
GitHub References:        https://github.com/MIT-AI-Accelerator/MagNav.jl
                          https://github.com/lw-kong/MagNav_2020.jl
Challenge Source:         JuliaCon 2020 Challenge Problem
```

---

## G. CONCLUSION

### Reproducibility Assessment: **EXTERNALLY DATA-DEPENDENT**

The MagNav repository contains well-written, properly documented research code with:
- Clear algorithm implementation (Tolles-Lawson magnetic correction)
- Proper Julia project structure and dependencies
- MATLAB integration for neural network filtering
- Comprehensive documentation in Readme.md

**However**, execution is blocked by **unavailable external datasets**:
- The flight data files (Flt1002-train.h5 and Flt1003-train.h5) are not included
- These files are referenced but not provided in the repository distribution
- No data download links are documented
- The repository only contains placeholder text files indicating where data should be placed

### Path Forward

To achieve full reproducibility:

1. **Contact Authors Directly**
   - Request Flt1002-train.h5 and Flt1003-train.h5 data files
   - Clarify data licensing and availability restrictions

2. **Alternative: Use Sample Data**
   - Create synthetic test data matching expected HDF5 structure
   - Generate with known aircraft trajectory and magnetic field model
   - Allows validation of algorithms without real flight data

3. **Setup Verification Only** (without proprietary data)
   - Julia environment setup: ✓ Completed
   - Dependency installation: ✓ Ready
   - Code syntax validation: ✓ Passed
   - MATLAB installation: ⚠ Needs verification

### Reproducibility Score: 6/10

**Strengths:**
- Clean code structure
- Proper package management
- Clear documentation
- Version constraints specified

**Weaknesses:**
- Critical data files missing
- No data availability statement
- No synthetic test data provided
- MATLAB toolbox dependency not validated

---

END OF REPORT
